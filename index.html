
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>PyMeshFix &#8212; pymeshfix 0.16.0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pymeshfix Examples" href="examples/index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="#">
  <img src="_static/pyvista_logo_sm.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  PyMeshFix
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="examples/index.html">
  pymeshfix Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="api.html">
  API Reference
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/pyvista/pymeshfix" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation">
   Installation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dependencies">
   Dependencies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#examples">
   Examples
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#easy-example">
   Easy Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#complete-examples-with-and-without-vtk">
   Complete Examples with and without VTK
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#algorithm-and-citation-policy">
   Algorithm and Citation Policy
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#copyright">
   Copyright
  </a>
  <ul class="nav section-nav flex-column">
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="pymeshfix">
<h1>PyMeshFix<a class="headerlink" href="#pymeshfix" title="Permalink to this headline">#</a></h1>
<p>Python/Cython wrapper of Marco Attene’s wonderful, award-winning
<a class="reference external" href="https://github.com/MarcoAttene/MeshFix-V2.1">MeshFix</a> software.
This module brings the speed of C++ with the portability and ease of
installation of Python.</p>
<p>This software takes as input a polygon mesh and produces a copy of the input
where all the occurrences of a specific set of “defects” are corrected.
MeshFix has been designed to correct typical flaws present in raw digitized
mesh models, thus it might fail or produce coarse results
if run on other sorts of input meshes (e.g. tessellated CAD models).</p>
<p>The input is assumed to represent a single closed solid object, thus the output
will be a single watertight triangle mesh bounding a polyhedron.
All the singularities, self-intersections and degenerate elements are removed
from the input, while regions of the surface without defects are left
unmodified.</p>
<p>C++ source last updated 1 Jul 2020</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">#</a></h2>
<p>From <a class="reference external" href="https://pypi.python.org/pypi/pymeshfix">PyPI</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install pymeshfix
</pre></div>
</div>
<p>From source at <a class="reference external" href="https://github.com/pyvista/pymeshfix">GitHub</a></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/pyvista/pymeshfix
<span class="nb">cd</span> pymeshfix
pip install .
</pre></div>
</div>
</section>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">#</a></h2>
<p>Requires <code class="docutils literal notranslate"><span class="pre">numpy</span></code> and <code class="docutils literal notranslate"><span class="pre">pyvista</span></code></p>
<p>If you can’t or don’t want to install vtk, you can install it without
<code class="docutils literal notranslate"><span class="pre">pyvista</span></code> with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install pymeshfix --no-dependencies
</pre></div>
</div>
<p>You’ll miss out on some of the cool features from <code class="docutils literal notranslate"><span class="pre">pyvista</span></code>, but it will still function.</p>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">#</a></h2>
<p>Test installation with the following from Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pymeshfix</span> <span class="kn">import</span> <span class="n">examples</span>

<span class="c1"># Test of pymeshfix without VTK module</span>
<span class="n">examples</span><span class="o">.</span><span class="n">native</span><span class="p">()</span>

<span class="c1"># Performs same mesh repair while leveraging VTK&#39;s plotting/mesh loading</span>
<span class="n">examples</span><span class="o">.</span><span class="n">with_vtk</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="easy-example">
<h2>Easy Example<a class="headerlink" href="#easy-example" title="Permalink to this headline">#</a></h2>
<p>This example uses the Cython wrapper directly. No bells or whistles here:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pymeshfix</span>

<span class="c1"># Read mesh from infile and output cleaned mesh to outfile</span>
<span class="n">pymeshfix</span><span class="o">.</span><span class="n">clean_from_file</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span>
</pre></div>
</div>
<p>This example assumes the user has vertex and faces arrays in Python.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pymeshfix</span>

<span class="c1"># Generate vertex and face arrays of cleaned mesh</span>
<span class="c1"># where v and f are numpy arrays</span>
<span class="n">vclean</span><span class="p">,</span> <span class="n">fclean</span> <span class="o">=</span> <span class="n">pymeshfix</span><span class="o">.</span><span class="n">clean_from_arrays</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="complete-examples-with-and-without-vtk">
<h2>Complete Examples with and without VTK<a class="headerlink" href="#complete-examples-with-and-without-vtk" title="Permalink to this headline">#</a></h2>
<p>One of the main reasons to bring MeshFix to Python is to allow the
library to communicate to other python programs without having to use
the hard drive.  Therefore, this example assumes that you have a mesh
within memory and wish to repair it using MeshFix.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pymeshfix</span>

<span class="c1"># Create object from vertex and face arrays</span>
<span class="n">meshfix</span> <span class="o">=</span> <span class="n">pymeshfix</span><span class="o">.</span><span class="n">MeshFix</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

<span class="c1"># Plot input</span>
<span class="n">meshfix</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># Repair input mesh</span>
<span class="n">meshfix</span><span class="o">.</span><span class="n">repair</span><span class="p">()</span>

<span class="c1"># Access the repaired mesh with vtk</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">meshfix</span><span class="o">.</span><span class="n">mesh</span>

<span class="c1"># Or, access the resulting arrays directly from the object</span>
<span class="n">meshfix</span><span class="o">.</span><span class="n">v</span> <span class="c1"># numpy np.float64 array</span>
<span class="n">meshfix</span><span class="o">.</span><span class="n">f</span> <span class="c1"># numpy np.int32 array</span>

<span class="c1"># View the repaired mesh (requires vtkInterface)</span>
<span class="n">meshfix</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c1"># Save the mesh</span>
<span class="n">meshfix</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;out.ply&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, the user could use the Cython wrapper of MeshFix directly if
vtk is unavailable or they wish to have more control over the cleaning
algorithm.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pymeshfix</span>

<span class="c1"># Create TMesh object</span>
<span class="n">tin</span> <span class="o">=</span> <span class="n">pymeshfix</span><span class="o">.</span><span class="n">PyTMesh</span><span class="p">()</span>

<span class="n">tin</span><span class="o">.</span><span class="n">LoadFile</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
<span class="c1"># tin.load_array(v, f) # or read arrays from memory</span>

<span class="c1"># Attempt to join nearby components</span>
<span class="c1"># tin.join_closest_components()</span>

<span class="c1"># Fill holes</span>
<span class="n">tin</span><span class="o">.</span><span class="n">fill_small_boundaries</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are </span><span class="si">{:d}</span><span class="s1"> boundaries&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tin</span><span class="o">.</span><span class="n">boundaries</span><span class="p">()))</span>

<span class="c1"># Clean (removes self intersections)</span>
<span class="n">tin</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="n">max_iters</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">inner_loops</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1"># Check mesh for holes again</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;There are </span><span class="si">{:d}</span><span class="s1"> boundaries&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tin</span><span class="o">.</span><span class="n">boundaries</span><span class="p">()))</span>

<span class="c1"># Clean again if necessary...</span>

<span class="c1"># Output mesh</span>
<span class="n">tin</span><span class="o">.</span><span class="n">save_file</span><span class="p">(</span><span class="n">outfile</span><span class="p">)</span>

 <span class="c1"># or return numpy arrays</span>
<span class="n">vclean</span><span class="p">,</span> <span class="n">fclean</span> <span class="o">=</span> <span class="n">tin</span><span class="o">.</span><span class="n">return_arrays</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="algorithm-and-citation-policy">
<h2>Algorithm and Citation Policy<a class="headerlink" href="#algorithm-and-citation-policy" title="Permalink to this headline">#</a></h2>
<p>To better understand how the algorithm works, please refer to the following
paper:</p>
<blockquote>
<div><p>M. Attene. A lightweight approach to repairing digitized polygon meshes.
The Visual Computer, 2010. (c) Springer. DOI: 10.1007/s00371-010-0416-3</p>
</div></blockquote>
<p>This software is based on ideas published therein. If you use MeshFix for
research purposes you should cite the above paper in your published results.
MeshFix cannot be used for commercial purposes without a proper licensing
contract.</p>
</section>
<section id="copyright">
<h2>Copyright<a class="headerlink" href="#copyright" title="Permalink to this headline">#</a></h2>
<p>MeshFix is Copyright(C) 2010: IMATI-GE / CNR</p>
<p>All rights reserved.</p>
<p>This program is dual-licensed as follows:</p>
<p>(1) You may use MeshFix as free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by the Free
Software Foundation; either version 3 of the License, or (at your option) any
later version.</p>
<p>In this case the program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
(<a class="reference external" href="http://www.gnu.org/licenses/gpl.txt">http://www.gnu.org/licenses/gpl.txt</a>) for more details.</p>
<p>(2) You may use MeshFix as part of a commercial software. In this case a proper
agreement must be reached with the Authors and with IMATI-GE/CNR based on a
proper licensing contract.</p>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2017-2022, The PyVista Developers.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.3.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>